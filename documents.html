

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>doctr.documents &mdash; doctr 0.1.2a0-git documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/clipboard.min.js"></script>
        <script src="_static/copybutton.js"></script>
        <script src="_static/js/custom.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/mindee.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="doctr.models" href="models.html" />
    <link rel="prev" title="doctr.datasets" href="datasets.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> doctr
          

          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="installing.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="installing.html#via-python-package">Via Python Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="installing.html#via-git">Via Git</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Package Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="datasets.html">doctr.datasets</a><ul>
<li class="toctree-l2"><a class="reference internal" href="datasets.html#available-datasets">Available Datasets</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.html#supported-vocabs">Supported Vocabs</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">doctr.documents</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#document-structure">Document structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="#file-reading">File reading</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="models.html">doctr.models</a><ul>
<li class="toctree-l2"><a class="reference internal" href="models.html#text-detection">Text Detection</a><ul>
<li class="toctree-l3"><a class="reference internal" href="models.html#pre-processing-for-detection">Pre-processing for detection</a></li>
<li class="toctree-l3"><a class="reference internal" href="models.html#detection-models">Detection models</a></li>
<li class="toctree-l3"><a class="reference internal" href="models.html#post-processing-detections">Post-processing detections</a></li>
<li class="toctree-l3"><a class="reference internal" href="models.html#detection-predictors">Detection predictors</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="models.html#text-recognition">Text Recognition</a><ul>
<li class="toctree-l3"><a class="reference internal" href="models.html#pre-processing-for-recognition">Pre-processing for recognition</a></li>
<li class="toctree-l3"><a class="reference internal" href="models.html#recognition-models">Recognition models</a></li>
<li class="toctree-l3"><a class="reference internal" href="models.html#post-processing-outputs">Post-processing outputs</a></li>
<li class="toctree-l3"><a class="reference internal" href="models.html#recognition-predictors">Recognition predictors</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="models.html#end-to-end-ocr">End-to-End OCR</a><ul>
<li class="toctree-l3"><a class="reference internal" href="models.html#two-stage-approaches">Two-stage approaches</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="models.html#model-export">Model export</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="utils.html">doctr.utils</a><ul>
<li class="toctree-l2"><a class="reference internal" href="utils.html#visualization">Visualization</a></li>
<li class="toctree-l2"><a class="reference internal" href="utils.html#task-evaluation">Task evaluation</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">doctr</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>doctr.documents</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/documents.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="doctr-documents">
<h1>doctr.documents<a class="headerlink" href="#doctr-documents" title="Permalink to this headline">¶</a></h1>
<p>The documents module enables users to easily access content from documents and export analysis
results to structured formats.</p>
<div class="section" id="document-structure">
<h2>Document structure<a class="headerlink" href="#document-structure" title="Permalink to this headline">¶</a></h2>
<p>Structural organization of the documents.</p>
<dl class="py class">
<dt id="doctr.documents.Word">
<em class="property">class </em><code class="sig-prename descclassname">doctr.documents.</code><code class="sig-name descname">Word</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">confidence</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">geometry</span><span class="p">:</span> <span class="n">Tuple<span class="p">[</span>Tuple<span class="p">[</span>float<span class="p">, </span>float<span class="p">]</span><span class="p">, </span>Tuple<span class="p">[</span>float<span class="p">, </span>float<span class="p">]</span><span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/doctr/documents/elements.html#Word"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#doctr.documents.Word" title="Permalink to this definition">¶</a></dt>
<dd><p>Implements a word element</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> – the text string of the word</p></li>
<li><p><strong>confidence</strong> – the confidence associated with the text prediction</p></li>
<li><p><strong>geometry</strong> – bounding box of the word in format ((xmin, ymin), (xmax, ymax)) where coordinates are relative to</p></li>
<li><p><strong>page's size</strong> (<em>the</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt id="doctr.documents.Artefact">
<em class="property">class </em><code class="sig-prename descclassname">doctr.documents.</code><code class="sig-name descname">Artefact</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">artefact_type</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">confidence</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">geometry</span><span class="p">:</span> <span class="n">Tuple<span class="p">[</span>Tuple<span class="p">[</span>float<span class="p">, </span>float<span class="p">]</span><span class="p">, </span>Tuple<span class="p">[</span>float<span class="p">, </span>float<span class="p">]</span><span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/doctr/documents/elements.html#Artefact"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#doctr.documents.Artefact" title="Permalink to this definition">¶</a></dt>
<dd><p>Implements a non-textual element</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>artefact_type</strong> – the type of artefact</p></li>
<li><p><strong>confidence</strong> – the confidence of the type prediction</p></li>
<li><p><strong>geometry</strong> – bounding box of the word in format ((xmin, ymin), (xmax, ymax)) where coordinates are relative to
the page’s size.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt id="doctr.documents.Line">
<em class="property">class </em><code class="sig-prename descclassname">doctr.documents.</code><code class="sig-name descname">Line</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">words</span><span class="p">:</span> <span class="n">List<span class="p">[</span>doctr.documents.elements.Word<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">geometry</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Tuple<span class="p">[</span>Tuple<span class="p">[</span>float<span class="p">, </span>float<span class="p">]</span><span class="p">, </span>Tuple<span class="p">[</span>float<span class="p">, </span>float<span class="p">]</span><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/doctr/documents/elements.html#Line"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#doctr.documents.Line" title="Permalink to this definition">¶</a></dt>
<dd><p>Implements a line element as a collection of words</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>words</strong> – list of word elements</p></li>
<li><p><strong>geometry</strong> – bounding box of the word in format ((xmin, ymin), (xmax, ymax)) where coordinates are relative to
the page’s size. If not specified, it will be resolved by default to the smallest bounding box enclosing
all words in it.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt id="doctr.documents.Block">
<em class="property">class </em><code class="sig-prename descclassname">doctr.documents.</code><code class="sig-name descname">Block</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">lines</span><span class="p">:</span> <span class="n">List<span class="p">[</span>doctr.documents.elements.Line<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">artefacts</span><span class="p">:</span> <span class="n">List<span class="p">[</span>doctr.documents.elements.Artefact<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">geometry</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Tuple<span class="p">[</span>Tuple<span class="p">[</span>float<span class="p">, </span>float<span class="p">]</span><span class="p">, </span>Tuple<span class="p">[</span>float<span class="p">, </span>float<span class="p">]</span><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/doctr/documents/elements.html#Block"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#doctr.documents.Block" title="Permalink to this definition">¶</a></dt>
<dd><p>Implements a block element as a collection of lines and artefacts</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lines</strong> – list of line elements</p></li>
<li><p><strong>artefacts</strong> – list of artefacts</p></li>
<li><p><strong>geometry</strong> – bounding box of the word in format ((xmin, ymin), (xmax, ymax)) where coordinates are relative to
the page’s size. If not specified, it will be resolved by default to the smallest bounding box enclosing
all lines and artefacts in it.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt id="doctr.documents.Page">
<em class="property">class </em><code class="sig-prename descclassname">doctr.documents.</code><code class="sig-name descname">Page</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">blocks</span><span class="p">:</span> <span class="n">List<span class="p">[</span>doctr.documents.elements.Block<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">page_idx</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">dimensions</span><span class="p">:</span> <span class="n">Tuple<span class="p">[</span>int<span class="p">, </span>int<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">orientation</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Dict<span class="p">[</span>str<span class="p">, </span>Any<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">language</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Dict<span class="p">[</span>str<span class="p">, </span>Any<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/doctr/documents/elements.html#Page"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#doctr.documents.Page" title="Permalink to this definition">¶</a></dt>
<dd><p>Implements a page element as a collection of blocks</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>blocks</strong> – list of block elements</p></li>
<li><p><strong>page_idx</strong> – the index of the page in the input raw document</p></li>
<li><p><strong>dimensions</strong> – the page size in pixels in format (width, height)</p></li>
<li><p><strong>orientation</strong> – a dictionary with the value of the rotation angle in degress and confidence of the prediction</p></li>
<li><p><strong>language</strong> – a dictionary with the language value and confidence of the prediction</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt id="doctr.documents.Document">
<em class="property">class </em><code class="sig-prename descclassname">doctr.documents.</code><code class="sig-name descname">Document</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pages</span><span class="p">:</span> <span class="n">List<span class="p">[</span>doctr.documents.elements.Page<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/doctr/documents/elements.html#Document"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#doctr.documents.Document" title="Permalink to this definition">¶</a></dt>
<dd><p>Implements a document element as a collection of pages</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pages</strong> – list of page elements</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="file-reading">
<h2>File reading<a class="headerlink" href="#file-reading" title="Permalink to this headline">¶</a></h2>
<p>High-performance file reading and conversion to processable structured data.</p>
<dl class="py function">
<dt id="doctr.documents.read_pdf">
<code class="sig-prename descclassname">doctr.documents.</code><code class="sig-name descname">read_pdf</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file_path</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>numpy.ndarray<span class="p">]</span><a class="reference internal" href="_modules/doctr/documents/reader.html#read_pdf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#doctr.documents.read_pdf" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a PDF file and convert it into an image in numpy format</p>
<dl>
<dt>Example::</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">doctr.documents</span> <span class="kn">import</span> <span class="n">read_pdf</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">doc</span> <span class="o">=</span> <span class="n">read_pdf</span><span class="p">(</span><span class="s2">&quot;path/to/your/doc.pdf&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>file_path</strong> – the path to the PDF file</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the list of pages decoded as numpy ndarray of shape H x W x 3</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="doctr.documents.read_img">
<code class="sig-prename descclassname">doctr.documents.</code><code class="sig-name descname">read_img</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file_path</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">output_size</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Tuple<span class="p">[</span>int<span class="p">, </span>int<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">rgb_output</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span> &#x2192; numpy.ndarray<a class="reference internal" href="_modules/doctr/documents/reader.html#read_img"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#doctr.documents.read_img" title="Permalink to this definition">¶</a></dt>
<dd><p>Read an image file into numpy format</p>
<dl>
<dt>Example::</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">doctr.documents</span> <span class="kn">import</span> <span class="n">read_img</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">page</span> <span class="o">=</span> <span class="n">read_img</span><span class="p">(</span><span class="s2">&quot;path/to/your/doc.jpg&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_path</strong> – the path to the image file</p></li>
<li><p><strong>output_size</strong> – the expected output size of each page in format H x W</p></li>
<li><p><strong>rgb_output</strong> – whether the output ndarray channel order should be RGB instead of BGR.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the page decoded as numpy ndarray of shape H x W x 3</p>
</dd>
</dl>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="models.html" class="btn btn-neutral float-right" title="doctr.models" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="datasets.html" class="btn btn-neutral float-left" title="doctr.datasets" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2021, Mindee

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>